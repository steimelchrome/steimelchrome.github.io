<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>Document Picture-in-Picture Samples</title>
<link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
<style>
body {
  margin: 50px 200px 50px 50px;
}
</style>
</head>
<body class="mdc-typography">
  <h2 class="mdc-typography--headline3">Document Picture-in-Picture API</h2>
  <p>
  Document Picture-in-Picture is implemented behind a disabled-by-default
  feature flag in <strong>Chrome 105.0.5167.0</strong> and later.
  </p>
  <h3 class="mdc-typography--headline4">Enabling the Feature</h3>
  <p>
  To enable the document picture-in-picture feature, first check
  <strong>chrome://version</strong> to ensure that your Chrome version is at least
  105.0.5167.0. Then, go to
  <strong>chrome://flags#document-picture-in-picture-api</strong> and enable the
  "Document Picture-in-Picture API" feature. It will prompt you to restart
  Chrome (you should).
  <h3 class="mdc-typography--headline4">Using the feature</h3>
  <p>
  To open a document picture-in-picture window, use the
  <code>navigator.documentPictureInPicture.requestWindow()</code> method with the feature
  enabled. You can optionally supply a couple of parameters to
  <code>requestWindow()</code>:
  <pre>
  <code>
    navigator.documentPictureInPicture.requestWindow({
      initialAspectRatio: (width / height), /* The initial aspect ratio of the window. */
      lockAspectRatio: true, /* True if the window should be forced to remain at the initial aspect ratio when resized. */
    }).then((pipSession) => {
      pipSession.window.document.append(someElement);
    });
  </code>
  </pre>
  </p>
  <h3 class="mdc-typography--headline4">Sample pages using the feature</h3>
  <p>
  <a href="video.html">Putting a video element into a document PiP window</a>
  </p>
  <p>
  <a href="iframe.html">Putting an IFrame element into a document PiP window</a>
  </p>
  <p>
  <a href="styles.html">Copying CSS styles from the opener to the PiP window</a>
  </p>
  <h3 class="mdc-typography--headline4">Not yet implemented</h3>
  <p>
  The following features are not yet implemented as of Chrome 105.0.5167.0:
  <ul>
    <li>"Back to tab" button</li>
    <li>
      <code>setAspectRatio()</code> method on the DocumentPictureInPictureSession
      object
    </li>
    <li>
      <code>enterpictureinpicture/leavepictureinpicture</code> events
      (though you can infer <code>enterpictureinpicture</code> when the Promise
      returned by <code>requestWindow()</code> resolves
      and infer <code>leavepictureinpicture</code> when the window's unload
      event fires)
    </li>
  </ul>
  </p>
</body>
